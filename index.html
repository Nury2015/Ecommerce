<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="index.css">
    <!-- <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> -->
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
</head>

<body>
    <nav>
        <a href="menumobile.html">

            <img src="icons/icon_menu.svg" alt="menu" class="menu">
        </a>


        <div class="navbar-left">
            <a href="index.html">

                <img src="logos/logo_yard_sale.svg" alt="logo" class="logo">
            </a>

            <ul>
                <li>
                    <a href="index.html">All</a>
                </li>

                <li>
                    <a href="index.html">Clothes</a>
                </li>

                <li>
                    <a href="index.html">Electronics</a>
                </li>

                <li>
                    <a href="index.html">Furnitures</a>
                </li>

                <li>
                    <a href="index.html">Toys</a>
                </li>

                <li>
                    <a href="index.html">Others</a>
                </li>
            </ul>
        </div>

        <div class="navbar-right">
            <ul>

                <li class="navbar-email">
                    <a href="editar-cuenta.html">

                        camila@gmail.com

                    </a>

                </li>



                <li class="navbar-shopping-cart">

                    <a href="carrito.html">
                        <img src="icons/icon_shopping_cart.svg" alt="shopping cart">
                        <div>0</div>
                    </a>
                </li>
            </ul>
        </div>
    </nav>




    <section class="main-container">
        <div class="card-container">

            <div class="product-card">
                <a href="detalleprod.html">
                    <img src="img/peluche/perrocon.webp"
                        alt="peluche para perro">
                </a>
                <div class="informacion-producto">
                    <div>
                        <p>Peluche para perro</p>
                        <!-- <p>Juguete para Perros de Pato Peluche con Sonido - Resistente al Mordisco, Juguete Suave para Masticar para Razas Medianas y Pequeñas con Efectos de Sonido Interactivos, Ideal para Jugar y Entrenamiento, Juguetes para Perros</p> -->
                        <p>$50.000</p>

                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">

                        </a>

                    </figure>
                </div>

            </div>

            <div class="product-card">
                <a href="detalleprod.html">
                    <img src="img/Boton/principal.webp"
                        alt="">
                </a>

                <div class="informacion-producto">
                    <div>
                        <p>Botón para perros</p>
                        <p>$50.000</p>

                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">

                        </a>
                    </figure>
                </div>

            </div>

            <div class="product-card">
                <a href="detalleprod.html">
                    <img src="img/Cepillo para mascotas/principal.webp"
                        alt="carrito de compra">

                </a>

                <div class="informacion-producto">
                    <div>
                        <p>Cepillo para mascotas</p>
                        <p>40.000</p>

                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">

                        </a>
                    </figure>
                </div>

            </div>

            <div class="product-card">
                <a href="detalleprod.html">
                    <img src="img/ganzo/principal.webp"
                        alt="">

                </a>

                <div class="informacion-producto">
                    <div>
                        <p>$120.000</p>
                        <p>Avión</p>
                        <!-- peluche suave de plumas de pato en color blanco/gris/café, juguete para perros, libera energía, ideal para mascotas grandes, medianas y pequeñas -->

                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">

                        </a>
                    </figure>
                </div>

            </div>

            <div class="product-card">
                <a href="detalleprod.html">
                    <img src="img/contenedorbolsa/princi.webp"
                        alt="">

                </a>

                <div class="informacion-producto">
                    <div>
                        <p>Distribuidor de Bolsas</p>
                        <p>$30.000</p>
<!-- Suministros Creativos para Mascotas: Recolector de Excrementos para Paseos de Perros, Práctico y Hermoso Distribuidor de Bolsas de Basura Portátil, Carcasa de Basura Esencial para Amantes de las Mascotas -->
                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">

                        </a>
                    </figure>
                </div>

            </div>

            <div class="product-card">
                <a href="detalleprod.html">
                    <img src="img/Pelotas/Principal.webp"
                        alt="carrito de compra">

                </a>

                <div class="informacion-producto">
                    <div>
                        <p>Juguetes de pelota para perros</p>
                        <p>$40.000</p>
<!-- 3 piezas de juguetes de pelota para perros, juguete de goma resistente y sonoro para mascotas, no tóxico y masticable, juego interactivo y salud dental, sin necesidad de batería para razas pequeñas -->
                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">
                        </a>
                    </figure>
                </div>

            </div>

            <div class="product-card">
                <a href="detalleprod.html">
                    <img src="img/tepete/principal.webp"
                        alt="">

                </a>

                <div class="informacion-producto">
                    <div>
                        <p>Entrenador de Baño para Perros</p>
                        <p>$50.000</p>
<!-- Entrenador de Baño para Perros con Césped Artificial Lavable FUKUCHONG - Tamaño Pequeño a Grande, Material Duradero EVA, Diseño Verde y Amarillo para Uso Interior/Exterior, Ideal para Tiendas de Campaña y Entrenamiento de Mascotas -->
                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">

                        </a>
                    </figure>
                </div>

            </div>

            <div class="product-card">
                <a href="detalleprod.html">
                    <img src="img/frisbi/principal.webp"
                        alt="">
                </a>

                <div class="informacion-producto">
                    <div>
                        <p>Disco Volador De Entrenamiento Para Mascotas</p>
                        <p>$30.000</p>
<!-- 1 Unidad, Disco Volador De Entrenamiento Para Mascotas De Color, Con Estampado Liso, Juguete Duradero Para Masticar Para Perros, Suministro -->
                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">

                        </a>
                    </figure>
                </div>

            </div>

            <div class="product-card">
                <a href="detalleprod.html">
                    <img src="img/Bolsa/principal.webp"
                        alt="carrito de compra">

                </a>
                <div class="informacion-producto">
                    <div>
                        <p>Bolsa de entrenamiento</p>
                        <p>$40.000</p>
<!-- Riñonera para premios de perro con dispensador de bolsas para desechos incorporado - Bolsa de entrenamiento y alimentación de poliéster para entrenadores y dueños de mascotas, gran capacidad, diseño con clip para llevar -->
                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">

                        </a>
                    </figure>
                </div>

            </div>

            <div class="product-card">
                <a href="detalleprod.html">
                    <img src="img/Cepillo/princi.webp"
                        alt="carrito de compra">
                </a>

                <div class="informacion-producto">
                    <div>
                        <p>Peine para Mascota</p>
                        <p>$30.000</p>
<!-- Peine para Mascotas de Fácil Limpieza y Confort Diario, Adecuado para Perros y Gatos con Función Desenredante, Mango Ergonómico, Peine para Pelaje y Cuidado, Gran Ayudante en la Higiene Canina -->
                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">

                        </a>
                    </figure>
                </div>

            </div>

            <div class="product-card">
                <a href="detalleprod.html">
                    <img src="img/Disco volador/principal.webp"
                        alt="carrito de compra">

                </a>

                <div class="informacion-producto">
                    <div>
                        <p>Disco Volador</p>
                        <p>$40.000</p>
<!-- Disco Volador Duradero para Entrenamiento de Perros - Resistente a Mordidas, Juguete de Nudo de Cuerda para Limpieza Dental para Todas las Razas -->
                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">

                        </a>
                    </figure>
                </div>

            </div>

            <div class="product-card">
                <a href="detalleprod.html">
                    <img src="img/comedero/negro.webp"
                        alt="">

                </a>

                <div class="informacion-producto">
                    <div>
                        <p>Comedero para perro</p>
                        <p>$100.000</p>
<!-- 1 Juego de Comederos Elevados para Perros, Estante con 4 Alturas Ajustables y 2 Boles de Acero Inoxidable, Sin Deslizamiento para Razas Pequeñas -->
                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">

                        </a>
                    </figure>
                </div>

            </div>

            <div class="product-card">
                <a href="detalleprod.html">
                    <img src="img/Pelotas/Principal.webp"
                        alt="">

                </a>

                <div class="informacion-producto">
                    <div>
                        <p>Juguetes para Masticar con Sonido para Cachorros</p>
                        <p>$50.000</p>
<!-- 6/12pcs Juguetes para Masticar con Sonido para Cachorros - Bolas Interactivas de Plástico Duradero y Estrellas Texturadas, Colores Variados para Perros Pequeños y Medianos, Diseños Divertidos para Mascotas -->
                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">

                        </a>
                    </figure>
                </div>

            </div>

            <div class="product-card">

                <a href="detalleprod.html">
                    <a href="detalleprod.html">
                        <img src="img/bolsas/principal.webp"
                            alt="">
                    </a>

                </a>

                <div class="informacion-producto">
                    <div>
                        <p>Bolsas para Excrementos de Perro</p>
                        <p>$40.000</p>
<!-- 210 Bolsas para Excrementos de Perro a Prueba de Fugas con Diseño de Huellas, 14 Rollos - Bolsas de Plástico Duraderas para Limpieza de Mascotas y Uso Exterior -->
                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">

                        </a>
                    </figure>
                </div>

            </div>

            <div class="product-card">
                <a href="detalleprod.html">
                    <a href="detalleprod.html">
                        <img src="img/balsamo/principal.webp"
                            alt="">
                    </a>
                </a>

                <div class="informacion-producto">
                    <div>
                        <p>Bálsamo Hidratante huellas y nariz</p>
                        <p>$10.000</p>
<!-- Crema Anti-Grietas para Garras y Uñas de Mascotas - Bálsamo Hidratante Rápido para Perros y Gatos, Fijación Fuerte, Previene Grietas y Roturas, Suaviza Patas y Nariz - Tubo de 20g para Mascotas Pequeñas a Grandes, Textura Suave, Fórmula Nutritiva, Amigable con las Mascotas, Para Dueños de Perros -->
                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">

                        </a>
                    </figure>
                </div>

            </div>

            <div class="product-card">
                <a href="detalleprod.html">
                    <img src="img/cepillodientes/principal.webp"
                        alt="">

                </a>

                <div class="informacion-producto">
                    <div>
                        <p>Cepillo de dientes para mascotas</p>
                        <p>$20.000</p>
<!-- Conjunto de 4 Cepillos para Dientes de Mascotas con Cerdas Suaves y Mangos Ergonómicos Antideslizantes para un Cuidado Dental Amable - Rosa, Verde, Amarillo, Blanco -->
                    </div>

                    <figure>
                        <a href="carrito.html">
                            <img src="icons/bt_add_to_cart.svg" alt="carrito de compra">

                        </a>
                    </figure>
                </div>

            </div>
    </section>

    <footer>
        © <span id="year"></span> DECAYBA · Hecho con ❤
    </footer>

    <script>
        // Simulación de carrito
        let carrito = JSON.parse(localStorage.getItem("carrito")) || [];

        function actualizarCarritoVisual() {
            const cartCountDiv = document.querySelector('.navbar-shopping-cart div');
            const totalItems = carrito.reduce((acc, item) => acc + item.cantidad, 0);
            cartCountDiv.textContent = totalItems;
        }

        function agregarAlCarrito(nombre, precio) {
            const productoExistente = carrito.find(item => item.nombre === nombre);
            if (productoExistente) {
                productoExistente.cantidad += 1;
            } else {
                carrito.push({ nombre, precio, cantidad: 1 });
            }

            localStorage.setItem("carrito", JSON.stringify(carrito));
            actualizarCarritoVisual();
        }

        function volarAlCarrito(imgOrigen) {
            const carritoIcono = document.querySelector('.navbar-shopping-cart img');
            const imgRect = imgOrigen.getBoundingClientRect();
            const carritoRect = carritoIcono.getBoundingClientRect();

            const imgClone = imgOrigen.cloneNode(true);
            imgClone.classList.add('fly-img');
            document.body.appendChild(imgClone);

            // Posición inicial (donde está la imagen original)
            imgClone.style.top = imgRect.top + 'px';
            imgClone.style.left = imgRect.left + 'px';

            // Forzamos reflow para que el navegador note la posición inicial
            imgClone.offsetWidth;

            // Posición final (el carrito)
            const translateX = carritoRect.left - imgRect.left;
            const translateY = carritoRect.top - imgRect.top;

            imgClone.style.transform = `translate(${translateX}px, ${translateY}px)`;
            imgClone.style.opacity = 0;

            // Eliminar después de la animación
            setTimeout(() => {
                imgClone.remove();
            }, 700);
        }


        document.querySelectorAll('.product-card').forEach(card => {
            card.querySelector('figure a').addEventListener('click', e => {
                e.preventDefault(); // Evita que redirija
                const nombre = card.querySelector('.informacion-producto p:nth-child(2)').textContent;
                const precioTexto = card.querySelector('.informacion-producto p:nth-child(1)').textContent;
                const precio = Number(precioTexto.replace(/[^0-9]/g, '')); // $120.000 → 120000

                const imgElement = card.querySelector("img"); // Usamos la imagen del producto
                volarAlCarrito(imgElement); // 🎯 ¡Aquí ocurre la magia!

                agregarAlCarrito(nombre, precio);
            });
        });

        actualizarCarritoVisual();
    </script>

</body>

</html>